<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Edit Book</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <h1>Edit Book</h1>
    <a href="/api/books">Back to Books</a>
    <form th:action="@{/api/books}" th:object="${book}" method="POST">
      <input type="hidden" th:field="*{id}" />
      <div class="form-group">
        <label for="name">Book Name</label>
        <input type="text" id="name" th:field="*{name}" required />
      </div>
      <div class="form-group">
        <label for="description">Book Description</label>
        <input
          type="text"
          id="description"
          th:field="*{description}"
          required
        />
      </div>
      <div class="form-group">
        <label for="date">Date</label>
        <input type="date" id="date" th:field="*{date}" required />
      </div>
      <div class="form-group">
        <label for="renters">Max num. of Renters</label>
        <input
          type="number"
          id="renters"
          th:field="*{maxRenters}"
          required
        />
      </div>
      <div class="form-group">
        <label for="publisher">Publisher</label>
        <select id="publisher" th:field="*{publisher.id}">
          <option
            th:each="publisher: ${publishers}"
            th:value="${publisher.id}"
            th:text="${publisher.name}"
          ></option>
        </select>
      </div>
      <div class="form-group">
        <label for="author">Author</label>
        <select id="author" th:field="*{author.id}">
          <option
            th:each="author: ${authors}"
            th:value="${author.id}"
            th:text="${author.name}"
          ></option>
        </select>
      </div>

      <div class="form-group">
        <button type="submit">Save</button>
      </div>
    </form>

    <script src="/script.js"></script>
    <script>
      var dateInput = document.getElementById('date');
      var currentDate = new Date().toISOString().split('T')[0];
      dateInput.setAttribute('min', currentDate);
    </script>
  </body>
</html>
